package client.services.http.builders;

import client.ApplicationTestCase;
import client.services.http.HttpInstance;
import com.google.gwt.core.client.JsonUtils;
import org.junit.Test;

import static org.junit.Assert.*;

public class FormBuilderTest extends ApplicationTestCase {

    private static final String FORM = "{\"id\":\"8\",\"label\":\" \",\"type\":\"form\",\"description\":\"El modelo de Currículum Vítae Normalizado es resultado de un trabajo en colaboración con los agentes que interaccionan con los contenidos de las trayectorias curriculares de docentes, investigadores y tecnólogos, con la finalidad de facilitar los intercambios de datos\",\"definition\":{\"code\":\"ic.000.010\",\"name\":\"micv.formularios.Ic000010\",\"type\":\"form\"},\"isComponent\":true,\"owner\":{\"id\":\"7\",\"type\":\"container\",\"label\":\"Curriculum Vitae\",\"definition\":{\"code\":\"mpnu5yw\",\"name\":\"micv.CvInvestigador\",\"type\":\"container\"}},\"ancestors\":{\"totalCount\":2,\"items\":[{\"id\":\"3\",\"type\":\"collection\",\"label\":\"Curriculums\",\"definition\":{\"code\":\"currimulums\",\"name\":\"micv.Curriculums\",\"type\":\"collection\"}},{\"id\":\"7\",\"type\":\"container\",\"label\":\"Curriculum Vitae\",\"definition\":{\"code\":\"mpnu5yw\",\"name\":\"micv.CvInvestigador\",\"type\":\"container\"}}]},\"fields\":{\"totalCount\":22,\"items\":[{\"code\":\"Nombre\",\"type\":\"text\",\"label\":\"Nombre\",\"value\":\"\"},{\"code\":\"Apellidos\",\"type\":\"text\",\"label\":\"Apellidos\",\"value\":\"\"},{\"code\":\"TelefonoFijo\",\"type\":\"text\",\"label\":\"Teléfono fijo\",\"value\":\"\"},{\"code\":\"TelefonoMovil\",\"type\":\"text\",\"label\":\"Teléfono móvil\",\"value\":\"\"},{\"code\":\"Fax\",\"type\":\"text\",\"label\":\"Fax\",\"value\":\"\"},{\"code\":\"PaginaWeb\",\"type\":\"text\",\"label\":\"Página web personal\",\"value\":\"\"},{\"code\":\"CorreoElectronico\",\"type\":\"text\",\"multiple\":true,\"label\":\"Correo electrónico\",\"value\":[]},{\"code\":\"DNI\",\"type\":\"text\",\"label\":\"DNI\",\"value\":\"\"},{\"code\":\"NIE\",\"type\":\"text\",\"label\":\"NIE\",\"value\":\"\"},{\"code\":\"Pasaporte\",\"type\":\"text\",\"label\":\"Pasaporte\",\"value\":\"\"},{\"code\":\"CodigoPostal\",\"type\":\"text\",\"label\":\"Código Postal\",\"value\":\"\"},{\"code\":\"DireccionContacto\",\"type\":\"memo\",\"label\":\"Dirección de contacto\",\"value\":\"\"},{\"code\":\"RestoDireccionContacto\",\"type\":\"memo\",\"label\":\"Resto de dirección de contacto\",\"value\":\"\"},{\"code\":\"FotografiaDigital\",\"type\":\"picture\",\"label\":\"Fotografía Digital\"},{\"code\":\"moagd5q\",\"type\":\"file\",\"multiple\":true,\"label\":\"Documentos adjuntos\",\"value\":[]},{\"code\":\"FechaNacimiento\",\"type\":\"date\",\"label\":\"Fecha de nacimiento\",\"value\":-1},{\"code\":\"Sexo\",\"type\":\"select\",\"label\":\"Sexo\",\"value\":{\"value\":\"000\",\"label\":\"Hombre\"}},{\"code\":\"PaisNacionalidad\",\"type\":\"select\",\"label\":\"País de nacionalidad\",\"value\":{\"value\":\"\",\"label\":\"\",\"source\":{\"id\":\"1\",\"label\":\"Lugares\",\"type\":\"thesaurus\",\"definition\":{\"code\":\"m1rsupg\",\"name\":\"micv.TesauroLugares\",\"type\":\"thesaurus\"}}}},{\"code\":\"PaisNacimiento\",\"type\":\"select\",\"label\":\"País de nacimiento\",\"value\":{\"value\":\"\",\"label\":\"\",\"source\":{\"id\":\"1\",\"label\":\"Lugares\",\"type\":\"thesaurus\",\"definition\":{\"code\":\"m1rsupg\",\"name\":\"micv.TesauroLugares\",\"type\":\"thesaurus\"}}}},{\"code\":\"PaisContacto\",\"type\":\"select\",\"label\":\"País de contacto\",\"value\":{\"value\":\"\",\"label\":\"\",\"source\":{\"id\":\"1\",\"label\":\"Lugares\",\"type\":\"thesaurus\",\"definition\":{\"code\":\"m1rsupg\",\"name\":\"micv.TesauroLugares\",\"type\":\"thesaurus\"}}}},{\"code\":\"esInvestigador\",\"type\":\"select\",\"label\":\"Es investigador\",\"value\":{\"value\":\"1\",\"label\":\"Sí\"}},{\"code\":\"Provincia\",\"type\":\"select\",\"label\":\"Provincia de contacto\",\"value\":{\"value\":\"\",\"label\":\"\",\"source\":{\"id\":\"9\",\"label\":\"Provincias\",\"type\":\"thesaurus\",\"definition\":{\"code\":\"mfekrpa\",\"name\":\"micv.TesauroProvincia\",\"type\":\"thesaurus\"}}}}]}}";

    @Test
    public void testLoadForm() {
        FormBuilder builder = new FormBuilder();
        builder.build((HttpInstance) JsonUtils.safeEval(FORM));
    }

}